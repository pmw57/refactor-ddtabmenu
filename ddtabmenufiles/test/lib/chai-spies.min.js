/**
 * Minified by jsDelivr using UglifyJS v3.4.4.
 * Original file: /npm/chai-spies@1.0.0/chai-spies.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):function(){if(!t.chai)throw new Error("Chai cannot be found in current scope.");t.chai.use(e())}()}(this,function(){"use strict";return function(a,l){var r=a.Assertion,c=(l.flag,l.inspect,"undefined"==typeof Symbol?"__state":Symbol("state")),h=0,t=new e,s=function(){};function e(){this[c]={}}function p(t,e,o){if(t.calls.length<e)return!1;var n=t.calls[e].slice(),s=0;return o.forEach(function(t){for(var e=0;e<n.length;e++)if(l.eql(n[e],t)){s++,n.splice(e,1);break}}),s===o.length}function d(t,e){for(var o=0,n=t.calls,s=0;s<n.length;s++)p(t,s,e)&&o++;return o}function b(t){return 1===t?"first":2===t?"second":3===t?"third":t+"th"}function o(e){return function(t){void 0!==this._obj.__spy?(new r(this._obj).to.be.spy,this.assert(this._obj.__spy.calls.length>t,"expected "+this._obj+" to have been called more than #{exp} times but got #{act}","expected "+this._obj+" to have been called at most #{exp} times but got #{act}",t,this._obj.__spy.calls.length)):e.apply(this,arguments)}}function n(e){return function(t){void 0!==this._obj.__spy?(new r(this._obj).to.be.spy,this.assert(this._obj.__spy.calls.length<t,"expected "+this._obj+" to have been called fewer than #{exp} times but got #{act}","expected "+this._obj+" to have been called at least #{exp} times but got #{act}",t,this._obj.__spy.calls.length)):e.apply(this,arguments)}}function i(e){return function(t){void 0!==this._obj.__spy?(new r(this._obj).to.be.spy,this.assert(this._obj.__spy.calls.length>=t,"expected "+this._obj+" to have been called at least #{exp} times but got #{act}","expected "+this._obj+" to have been called fewer than #{exp} times but got #{act}",t,this._obj.__spy.calls.length)):e.apply(this,arguments)}}function u(e){return function(t){void 0!==this._obj.__spy?(new r(this._obj).to.be.spy,this.assert(this._obj.__spy.calls.length<=t,"expected "+this._obj+" to have been called at most #{exp} times but got #{act}","expected "+this._obj+" to have been called more than #{exp} times but got #{act}",t,this._obj.__spy.calls.length)):e.apply(this,arguments)}}e.prototype.on=function(e,t,o){if(Array.isArray(t))return t.map(function(t){return this.on(e,t,o)},this);var n="function"==typeof e[t];if(t in e&&!n)throw new Error(['Unable to spy property "',t,'". Only methods and non-existing properties can be spied.'].join(""));if(n&&e[t].__spy)throw new Error('"'+t+'" is already a spy');var s=a.spy("object."+t,o||e[t]),i=++h;return(this[c][i]=s).__spy.tracked={object:e,methodName:t,originalMethod:e[t],isOwnMethod:e.hasOwnProperty(t)},e[t]=s},e.prototype.restore=function(i,a){var h=Boolean(i&&a),l=this;return a&&!Array.isArray(a)&&(a=[a]),Object.keys(this[c]).some(function(t){var e=l[c][t],o=e.__spy.tracked,n=!i||i===o.object,s=!a||-1!==a.indexOf(o.methodName);return delete l[c][t],!(!n&&!s)&&(l.restoreTrackedObject(e),!!h||void 0)}),this},e.prototype.restoreTrackedObject=function(t){var e=t.__spy.tracked;if(!e)throw new Error("It is not possible to restore a non-tracked spy.");e.isOwnMethod?e.object[e.methodName]=e.originalMethod:delete e.object[e.methodName],t.__spy.tracked=null},a.spy=function(t,n){"function"==typeof t&&(n=t,t=void 0);var e=function(t,c){switch(t){case 0:return function(){return c.apply(this,arguments)};case 1:return function(t){return c.apply(this,arguments)};case 2:return function(t,e){return c.apply(this,arguments)};case 3:return function(t,e,o){return c.apply(this,arguments)};case 4:return function(t,e,o,n){return c.apply(this,arguments)};case 5:return function(t,e,o,n,s){return c.apply(this,arguments)};case 6:return function(t,e,o,n,s,i){return c.apply(this,arguments)};case 7:return function(t,e,o,n,s,i,a){return c.apply(this,arguments)};case 8:return function(t,e,o,n,s,i,a,h){return c.apply(this,arguments)};case 9:return function(t,e,o,n,s,i,a,h,l){return c.apply(this,arguments)};default:return function(t,e,o,n,s,i,a,h,l,r){return c.apply(this,arguments)}}}((n=n||s).length,function(){var t=Array.prototype.slice.call(arguments);return e.__spy.calls.push(t),e.__spy.called=!0,n.apply(this,t)});return e.prototype=n.prototype,e.toString=function(){var t=this.__spy,e=t.calls.length,o="{ Spy";return t.name&&(o+=" '"+t.name+"'"),0<e&&(o+=", "+e+" call"+(1<e?"s":"")),(o+=" }")+(n!==s?"\n"+n.toString():"")},e.__spy={calls:[],called:!1,name:t},e},a.spy.sandbox=function(){return new e},a.spy.on=function(){return t.on.apply(t,arguments)},a.spy.interface=function(o,t){var n={};return o&&"object"==typeof o&&(t=Object.keys(o),n=o,o="mock"),t.reduce(function(t,e){return t[e]=a.spy(o+"."+e,n[e]),t},{})},a.spy.restore=function(){return t.restore.apply(t,arguments)},a.spy.returns=function(t){return a.spy(function(){return t})},r.addProperty("spy",function(){return this.assert(void 0!==this._obj.__spy,"expected "+this._obj+" to be a spy","expected "+this._obj+" to not be a spy"),this}),r.addChainableMethod("called",function(t){new r(this._obj).to.be.spy;var e=this._obj.__spy;t?this.assert(e.calls.length===t,"expected "+this._obj+" to have been called #{exp} but got #{act}","expected "+this._obj+" to have not been called #{exp}",t,e.calls.length):this.assert(!0===e.called,"expected "+this._obj+" to have been called","expected "+this._obj+" to not have been called")},function(){new r(this._obj).to.be.spy}),r.addProperty("once",function(){new r(this._obj).to.be.spy,this.assert(1===this._obj.__spy.calls.length,"expected "+this._obj+" to have been called once but got #{act}","expected "+this._obj+" to not have been called once",1,this._obj.__spy.calls.length)}),r.addProperty("twice",function(){new r(this._obj).to.be.spy,this.assert(2===this._obj.__spy.calls.length,"expected "+this._obj+" to have been called twice but got #{act}","expected "+this._obj+" to not have been called twice",2,this._obj.__spy.calls.length)}),r.addProperty("first",function(){"undefined"!==this._obj.__spy&&l.flag(this,"spy nth call with",1)}),r.addProperty("second",function(){"undefined"!==this._obj.__spy&&l.flag(this,"spy nth call with",2)}),r.addProperty("third",function(){"undefined"!==this._obj.__spy&&l.flag(this,"spy nth call with",3)}),r.addProperty("on"),r.addChainableMethod("nth",function(t){"undefined"!==this._obj.__spy&&l.flag(this,"spy nth call with",t)}),r.addChainableMethod("with",function(){new r(this._obj).to.be.spy;var t=[].slice.call(arguments,0),e=this._obj.__spy,o=e.calls,n=l.flag(this,"spy always"),s=l.flag(this,"spy nth call with");if(n){var i=d(e,t);this.assert(i===o.length,"expected "+this._obj+" to have been always called with #{exp} but got "+i+" out of "+o.length,"expected "+this._obj+" to have not always been called with #{exp}",t)}else if(s){var a=b(s),h=o[s-1];new r(this._obj).to.be.have.been.called.min(s),this.assert(p(e,s-1,t),"expected "+this._obj+" to have been called at the "+a+" time with #{exp} but got #{act}","expected "+this._obj+" to have not been called at the "+a+" time with #{exp}",t,h)}else i=d(e,t),this.assert(0<i,"expected "+this._obj+" to have been called with #{exp}","expected "+this._obj+" to have not been called with #{exp} but got "+i+" times",t)},function(){"undefined"!==this._obj.__spy&&l.flag(this,"spy with",!0)}),r.addProperty("always",function(){"undefined"!==this._obj.__spy&&l.flag(this,"spy always",!0)}),r.addMethod("exactly",function(){new r(this._obj).to.be.spy;var e,t=l.flag(this,"spy always"),o=l.flag(this,"spy with"),n=[].slice.call(arguments,0),s=this._obj.__spy.calls,i=l.flag(this,"spy nth call with");if(t&&o)e=0,s.forEach(function(t){t.length===n.length&&l.eql(t,n)&&e++}),this.assert(e===s.length,"expected "+this._obj+" to have been always called with exactly #{exp} but got "+e+" out of "+s.length,"expected "+this._obj+" to have not always been called with exactly #{exp}",n);else if(o&&i){var a=b(i),h=s[i-1];new r(this._obj).to.be.have.been.called.min(i),this.assert(l.eql(h,n),"expected "+this._obj+" to have been called at the "+a+" time with exactly #{exp} but got #{act}","expected "+this._obj+" to have not been called at the "+a+" time with exactly #{exp}",n,h)}else o?(e=0,s.forEach(function(t){t.length===n.length&&l.eql(t,n)&&e++}),this.assert(0<e,"expected "+this._obj+" to have been called with exactly #{exp}","expected "+this._obj+" to not have been called with exactly #{exp} but got "+e+" times",n)):this.assert(this._obj.__spy.calls.length===n[0],"expected "+this._obj+" to have been called #{exp} times but got #{act}","expected "+this._obj+" to not have been called #{exp} times",n[0],this._obj.__spy.calls.length)}),r.overwriteMethod("above",o),r.overwriteMethod("gt",o),r.overwriteMethod("below",n),r.overwriteMethod("lt",n),r.overwriteMethod("min",i),r.overwriteMethod("least",i),r.overwriteMethod("max",u),r.overwriteMethod("most",u)}});
//# sourceMappingURL=/sm/cfa6d168d54b4c2d305a0d25f7187de157e2a1dc9762b9edec92aad516642790.map